<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <link rel="icon" type="image/png" href="./S-LOGO.png" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="./style.css">

        <title>HTML5 essence</title>

    </head>

    <body>

        <h1>HTML5 essence</h1>
        <a href="https://github.com/WebD-Essentials" target="_blank">@WebD-Essentials</a> <br> <br>

        <div style="overflow-x:auto;">
            <table>
                <thead>
                    <tr>
                        <th>Date</th>
                        <th class="title">Title</th>
                        <th>Preview</th>
                        <th>@hashnode</th>
                        <th>@gh-page</th>
                        <th>Source Code</th>
                        <th>Download Code</th>
                        <th style="width:300px;">Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <script>

            const firebaseBaseURL = `https://quotesman11-default-rtdb.firebaseio.com/blogs.json?orderBy=\"series\"&equalTo=\"HTML5\"`;
            const table = document.querySelector("table tbody");
            const repoURL = "https://github.com/WebD-Essentials/HTML5";
            const githubPage = "https://razaahmad333.github.io/hashnode-blogs/";


            fetch(firebaseBaseURL)
                .then(response => response.json())
                .then(data => {
                    table.innerHTML = "";
                    insertDataIntoTable(Object.values(data));
                });


            function insertDataIntoTable(blogs) {
                blogs.forEach(blog => {
                    const row = document.createElement("tr");
                    row.innerHTML = `
                        <td data-label="Date">${blog.date}</td>
                        <td data-label="Title">${blog.title}</td>
                        <td data-label="Preview"><a href="./${blog.folder}" target="_blank">Live</a></td>
                        <td data-label="@hashnode"><a href="${blog.link}" target="_blank">Read </a></td>
                        <td data-label="@gh-page"><a href="${blog.ghPageLink}" target="_blank">Read</a></td>
                        <td data-label="Source Code"><a href="${repoURL}/tree/${blog.folder}" target="_blank">Open</a></td>
                        <td data-label="Download Code"><a href="${repoURL}/archive/refs/heads/${blog.folder}.zip" target="_blank">Download Code</a></td>
                        <td data-label="Description" class="hideAtSmall desc " title=${blog.description}> ${blog.description} </td>
                        <td  class="hideAtLarge" >${blog.description}</td>
                    `;
                    table.appendChild(row);

                });
            }

        </script>

    </body>

</html>
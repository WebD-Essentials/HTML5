<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
        <title>HTML5 essence</title>

        <style>
            @import url('https://fonts.googleapis.com/css2?family=Poppins&display=swap');

            * {
                font-family: 'Poppins', sans-serif;
            }

            .cursor {
                cursor: pointer;
            }

            table {
                border-collapse: collapse;
                width: 100%;
            }

            .hideAtLarge {
                display: none;
            }

            .hideAtSmall {
                display: block;
            }

            th,
            td {
                text-align: left;
                padding: 8px;

            }

            .desc {
                font-size: 12px;
                width: 300px;
            }

            tr:nth-child(even) {
                background-color: #f2f2f2;
            }

            th {
                background-color: #E34C26;
                color: white;
                border: 1px solid #000;
                padding: 10px;
                text-align: center;
            }

            @media screen and (max-width: 600px) {
                table {
                    border: 0;
                }

                .hideAtLarge {
                    display: block;
                }

                .hideAtSmall {
                    display: none;
                }

                thead {
                    display: none;
                }

                tr {
                    margin-bottom: 15px;
                    display: block;
                    border-bottom: 2px solid #ddd;
                }

                td {
                    display: block;
                    font-size: 13px;
                    border-bottom: 1px solid #ddd;
                }

                td::before {
                    content: attr(data-label);
                    float: right;
                    font-weight: bold;
                    text-transform: uppercase;
                }

                td:last-child {
                    border-bottom: 0;
                }
            }

            tbody {
                background-color: #fff;
            }

            tbody a {
                color: #fff;
                text-decoration: none;
                background: #333;
                padding: 3px 10px;
                border-radius: 5px;
                transition: .3s;
            }

            tbody a:hover {
                background: #666;
            }

            tbody td {
                border: 1px solid #000;
                padding: 15px;
                text-align: center;
            }
        </style>

    </head>

    <body>

        <h1>HTML5 essence</h1>
        written by - <a href="https://ahmad-raza.vercel.app" target="_blank">Ahmad Raza</a> <br> <br>

        <div style="overflow-x:auto;">
            <table>
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Title</th>
                        <th>Preview</th>
                        <th>@hashnode</th>
                        <th>@gh-page</th>
                        <th>Source Code</th>
                        <th>Download Code</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <script>

            const firebaseBaseURL = `https://quotesman11-default-rtdb.firebaseio.com/blogs.json?orderBy=\"series\"&equalTo=\"HTML5\"`
            const table = document.querySelector("table tbody");
            const repoURL = "https://github.com/WebD-Essentials/HTML5";
            const githubPage = "https://razaahmad333.github.io/hashnode-blogs/";


            fetch(firebaseBaseURL)
                .then(response => response.json())
                .then(data => {
                    table.innerHTML = "";
                    insertDataIntoTable(Object.values(data));
                });


            function insertDataIntoTable(blogs) {
                blogs.forEach(blog => {
                    const row = document.createElement("tr");
                    row.innerHTML = `
                        <td data-label="Date">${blog.date}</td>
                        <td data-label="Title">${blog.title}</td>
                        <td data-label="Preview"><a href="./${blog.folder}" target="_blank">Live</a></td>
                        <td data-label="@hashnode"><a href="${blog.link}" target="_blank">Read </a></td>
                        <td data-label="@gh-page"><a href="${blog.ghPageLink}" target="_blank">Read</a></td>
                        <td data-label="Source Code"><a href="${repoURL}/tree/${blog.folder}" target="_blank">Open</a></td>
                        <td data-label="Download Code"><a href="${repoURL}/archive/refs/heads/${blog.folder}.zip" target="_blank">Download Code</a></td>
                        <td data-label="Description" class="hideAtSmall desc " title=${blog.description}> ${blog.description} </td>
                        <td  class="hideAtLarge" >${blog.description}</td>
                    `;
                    table.appendChild(row);

                });
            }

        </script>

    </body>

</html>